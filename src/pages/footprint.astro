---
import Article from "../components/Article.astro";
import Comments from "../components/Comments.astro";
import PageLayout from "../layouts/PageLayout.astro";

---

<PageLayout pageName="footprint" title="è¶³è¿¹" description="ç”¨é«˜å¾·ç»˜åˆ¶çš„äººç”Ÿè¶³è¿¹åœ°å›¾ï¼Œæ˜¾ç¤ºäº†æˆ‘æ‰€æœ‰å»è¿‡çš„åœ°æ–¹ã€‚">
    <div class="space-y-8">
        <Article>
            <h2 class="mb-2">è¶³è¿¹åœ°å›¾ ğŸ‘£</h2>
            <p>ç”¨é«˜å¾·ç»˜åˆ¶çš„è¶³è¿¹åœ°å›¾ï¼Œæ˜¾ç¤ºäº†æˆ‘å»è¿‡çš„åœ°æ–¹ï¼Œå› ä¸ºéœ€è¦æ‰‹åŠ¨ä¸€ä¸ªä¸ªæŸ¥æ‰¾åœ°åæ·»åŠ ç¼–å·æ‰€ä»¥åªæ ‡æ³¨äº†åœ°çº§å¸‚ã€‚</p>
        </Article>

        <div id="mapContainer" class="w-full aspect-square bg-neutral-400"  style="color: cornflowerblue;"></div>

        <Comments />
    </div>
</PageLayout>


<script is:inline src="https://webapi.amap.com/maps?v=2.0&key=887dca547acd7576124f953d5d37a8b3"></script>
<script is:inline >

    function footprintMap(){

        const mapContainerElement =  document.getElementById('mapContainer')
        if(!mapContainerElement) return;

        var adCode = [

        513200,610900,620400,610300,530500,511900,520500,510100,532300,532900,533100,510600,533400,623000,513300,510800,640400,632200,632500,610700,

        632300,441300,530100,620100,530700,530900,510700,511300,620800,611000,510900,610200,610500,620600,220403,610400,511800,511500,620700,530600,430902,610100


        ];

        const map = new AMap.Map("mapContainer", {
            zoom: 6.2,
            center: [108.939645,34.343207],
            pitch: 30,
            // isHotspot:false,
            defaultCursor:'pointer',
            
        });

        var disProvince = new AMap.DistrictLayer.Province({
            zIndex: 12,
            zooms: [2, 15],
            adcode: adCode,
            depth: 2, //è®¾ç½®æ•°æ®æ˜¾ç¤ºå±‚çº§ï¼Œ0ï¼šæ˜¾ç¤ºå›½å®¶é¢ï¼Œ1ï¼šæ˜¾ç¤ºçœçº§ï¼Œå½“å›½å®¶ä¸ºä¸­å›½æ—¶è®¾ç½®depthä¸º2çš„å¯ä»¥æ˜¾ç¤ºå¸‚ä¸€çº§
            styles: {
                'fill': 'rgba(100,149,237,0.1)', //ç¼–å·åŒºåŸŸé¢œè‰²
                'province-stroke': 'blue', //ç¼–å·åŒºåŸŸè¾¹æ¡†
                'city-stroke': 'cornflowerblue', // ä¸­å›½åœ°çº§å¸‚è¾¹ç•Œ
                'county-stroke': 'rgba(100,149,237,0.2)' // ä¸­å›½åŒºå¿è¾¹ç•Œ
            },
            
        });

        map.add(disProvince);
            
        document.getElementsByClassName('amap-logo')[0].innerHTML = ''
        document.getElementsByClassName('amap-copyright')[0].innerHTML = ''

        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            map.setMapStyle("amap://styles/dark");
            map.setMapStyle({
                'fill': 'skyblue'
            });
        } else {
            map.setMapStyle("amap://styles/light");
        }
    }

    document.addEventListener('astro:page-load', footprintMap);

</script>
